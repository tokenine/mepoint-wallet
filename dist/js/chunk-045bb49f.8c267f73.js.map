{"version":3,"sources":["webpack:///./src/views/login.vue?6e00","webpack:///./src/views/login.vue?09be","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2e0e","webpack:///./src/views/login.vue?9ce9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","clear","on","verifyPin","logout","staticRenderFns","name","components","pinPad","data","methods","vm","alert_show","header","type","title","component","VCol","VContainer","VRow"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,QAAQ,CAACE,YAAY,yBAAyBC,MAAM,CAAC,MAAQ,SAAS,aAAa,KAAK,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,MAAM,CAACJ,EAAIQ,GAAG,sBAAsB,GAAGJ,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQP,EAAIS,MAAM,OAAS,eAAe,QAAS,GAAMC,GAAG,CAAC,QAAUV,EAAIW,UAAU,OAASX,EAAIY,WAAW,IACtcC,EAAkB,G,wFCmBtB,GACEC,KAAM,QACNC,WAAY,CACV,UAAWC,EAAf,MAEEC,KALF,WAMI,MAAO,CACLR,OAAO,IAGXS,QAAS,CACP,UADJ,SACA,4KACA,kBADA,SAGA,4CACA,IAJA,SAKA,kCACA,EACA,GAPA,cAKA,EALA,gBASA,6BACA,eACA,aAXA,wBAaA,gCAbA,eAcA,8BAdA,UAeA,mCAfA,QAgBA,kBACA,oBAjBA,qDAmBA,iBACA,kBACA,cACA,iBACA,aACA,qBAxBA,6DA4BIN,OA7BJ,WA6BA,WACA,OACMO,EAAGC,WAAW,CACZC,OAAQ,cACRC,KAAM,UACNC,MAAO,4BACf,KAJA,yDAIA,qGACA,MACA,IACA,IACA,OACA,UACA,KAFA,wCAEA,8GACA,mCADA,uBAEA,+BAFA,uBAGA,oCAHA,cAIA,sEACA,6CACA,6CANA,UAOA,mCAPA,6CAFA,UAWA,YACA,cACA,iBACA,aACA,qBAGA,WAtBA,2CAJA,0DC7D+U,I,iFCQ3UC,EAAY,eACd,EACAzB,EACAc,GACA,EACA,KACA,KACA,MAIa,aAAAW,EAAiB,QAOhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,aAAA,KAAWC,OAAA,Q","file":"js/chunk-045bb49f.8c267f73.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"login-page\",attrs:{\"fluid\":\"\"}},[_c('v-row',{staticClass:\"text-center h-100 blur\",attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',[_vm._v(\"SPLASH SCREEN\")])])],1),_c('pin-pad',{attrs:{\"clear\":_vm.clear,\"header\":\"กรุณาใส่รหัส\",\"logout\":true},on:{\"pinEmit\":_vm.verifyPin,\"logout\":_vm.logout}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"login-page\" fluid>\n    <v-row class=\"text-center h-100 blur\" align=\"center\" no-gutters>\n      <v-col cols=\"12\">\n        <div>SPLASH SCREEN</div>\n      </v-col>\n    </v-row>\n    <pin-pad\n      :clear=\"clear\"\n      header=\"กรุณาใส่รหัส\"\n      :logout=\"true\"\n      @pinEmit=\"verifyPin\"\n      @logout=\"logout\"\n    ></pin-pad>\n  </v-container>\n</template>\n\n<script>\nimport pinPad from \"../components/pinPad.vue\";\nimport { firebaseAuth } from \"../plugins/firebase\";\nexport default {\n  name: \"Login\",\n  components: {\n    \"pin-pad\": pinPad,\n  },\n  data() {\n    return {\n      clear: true,\n    };\n  },\n  methods: {\n    async verifyPin(pin) {\n      this.app_loading(true);\n      try {\n        const email = localStorage.getItem(\"email_account_mpv\");\n        const password = pin;\n        let signIn = await firebaseAuth.signInWithEmailAndPassword(\n          email,\n          password\n        );\n        await this.$store.dispatch(\"getUser\", {\n          uid: signIn.user.uid,\n          password: password,\n        });\n        await this.$store.dispatch(\"getBalance\");\n        console.log(\"getted balance\");\n        await this.$store.commit(\"SET_LOGGEDIN\", true);\n        this.app_loading(false);\n        this.$router.push(\"/\");\n      } catch (err) {\n        this.clear = !this.clear;\n        this.app_loading(false);\n        this.alert_show({\n          header: \"ล้มเหลว\",\n          type: \"error\",\n          title: err.message,\n        });\n      }\n    },\n    logout() {\n      const vm = this;\n      vm.alert_show({\n        header: \"กรุณายืนยัน\",\n        type: \"confirm\",\n        title: \"ท่านต้องการออกจากระบบ ?\",\n      }).then(async (res) => {\n        if (res) {\n          const vm = this;\n          try {\n            firebaseAuth\n              .signOut()\n              .then(async () => {\n                await vm.$store.commit(\"SET_LOGGEDIN\", false);\n                await vm.$store.commit(\"SET_ME\", null);\n                await vm.$store.commit(\"SET_TOKENLIST\", []);\n                vm.$cookies.keys().forEach(cookie => vm.$cookies.remove(cookie));\n                localStorage.removeItem(\"email_account_mpv\");\n                localStorage.removeItem(\"encypt_string_mpv\");\n                await vm.$router.push(\"/OTP/termService\");\n              })\n              .catch((error) => {\n                vm.alert_show({\n                  header: \"ล้มเหลว\",\n                  type: \"error\",\n                  title: error.message,\n                });\n              });\n          } catch (err) {}\n        }\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.login-page {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  background: white;\n  height: calc(var(--vh, 1vh) * 100);\n\n  .logo {\n    width: 50%;\n    min-width: 150px;\n    height: auto;\n    max-width: 350px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=4d9ecfd0&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VRow})\n"],"sourceRoot":""}