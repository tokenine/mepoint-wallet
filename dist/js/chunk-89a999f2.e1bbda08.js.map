{"version":3,"sources":["webpack:///./src/views/OTP/phoneVerify.vue?959b","webpack:///src/views/OTP/phoneVerify.vue","webpack:///./src/views/OTP/phoneVerify.vue?c197","webpack:///./src/views/OTP/phoneVerify.vue","webpack:///./src/views/OTP/phoneVerify.vue?3645"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","directives","name","rawName","value","expression","ref","attrs","timer","domProps","on","$event","isNumber","type","indexOf","_k","keyCode","key","requestOTP","target","composing","phone","length","_s","staticRenderFns","data","watch","val","setTimeout","replace","methods","evt","window","event","charCode","which","preventDefault","mounted","$nextTick","component","VBtn"],"mappings":"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","file":"js/chunk-89a999f2.e1bbda08.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"phoneVerify\"},[_c('div',[_vm._m(0),_c('div',{staticClass:\"input-section\"},[_c('div',[_vm._v(\"หมายเลขโทรศัพท์\")]),_c('div',{staticClass:\"mt-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],ref:\"phone_txt\",attrs:{\"type\":\"text\",\"disabled\":_vm.timer != 31,\"maxlength\":\"10\"},domProps:{\"value\":(_vm.phone)},on:{\"keypress\":function($event){return _vm.isNumber()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.requestOTP()},\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})])]),_c('div',[_c('v-btn',{staticClass:\"mt-4\",attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#c71e2b\",\"disabled\":_vm.phone.length != 10,\"dense\":\"\",\"height\":\"49\"},on:{\"click\":function($event){return _vm.requestOTP()}}},[(_vm.timer == 31)?_c('span',{staticClass:\"white--text\"},[_vm._v(\" ขอรับOTP \")]):_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm.timer))])])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-x\"},[_c('div',[_vm._v(\"กรุณากรอกหมายเลข\")]),_c('div',{staticClass:\"mt-1\"},[_vm._v(\"โทรศัพท์ของคุณ\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"phoneVerify\">\n    <div>\n      <div class=\"title-x\">\n        <div>กรุณากรอกหมายเลข</div>\n        <div class=\"mt-1\">โทรศัพท์ของคุณ</div>\n      </div>\n      <div class=\"input-section\">\n        <div>หมายเลขโทรศัพท์</div>\n        <div class=\"mt-2\">\n          <input\n            ref=\"phone_txt\"\n            type=\"text\"\n            :disabled=\"timer != 31\"\n            maxlength=\"10\"\n            v-model=\"phone\"\n            @keypress=\"isNumber()\"\n            @keyup.enter=\"requestOTP()\"\n          />\n        </div>\n      </div>\n      <div>\n        <v-btn\n          block\n          rounded\n          color=\"#c71e2b\"\n          :disabled=\"phone.length != 10\"\n          dense\n          height=\"49\"\n          @click=\"requestOTP()\"\n          class=\"mt-4\"\n        >\n          <span v-if=\"timer == 31\" class=\"white--text\"> ขอรับOTP </span>\n          <span class=\"white--text\" v-else>{{ timer }}</span>\n        </v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"PhoneVerify\",\n  data() {\n    return {\n      phone: \"\",\n      timer: 31,\n    };\n  },\n  watch: {\n    timer(val) {\n      if (val < 31 && val != 0) {\n        setTimeout(() => {\n          this.timer = this.timer - 1;\n        }, 1000);\n      } else if (val == 0) {\n        this.timer = 31;\n      }\n    },\n    phone(val) {\n      var phone = val.replace(/[^0-9\\.+]+/g, \"\");\n      this.phone = phone;\n    },\n  },\n  methods: {\n    async requestOTP() {\n      this.app_loading(true);\n      try {\n        if (this.phone.length != 10) {\n          return false;\n        }\n        const url = process.env.VUE_APP_API_OTP;\n        let config = {\n          headers: {\n            \"content-type\": \"application/json\",\n            \"X-API-KEY\": \"OTPJFINzM8L6ZCmbIvce1BAFwihvDf3BF\",\n          },\n        };\n        let params = {\n          phone_no: this.phone,\n        };\n        let res = await this.$axios.post(\n          url + \"paa/auth_phone\",\n          JSON.stringify(params),\n          config\n        );\n        if (res.data.status_code == 200) {\n          this.$store.commit(\"SET_OTP\", {\n            ref: res.data.data.otp_ref,\n            phone: this.phone,\n          });\n          this.$router.push(\"/OTP/otpVerify\");\n        } else {\n          this.alert_show({\n            header: \"ล้มเหลว\",\n            type: \"error\",\n            title: \"เบอร์โทรศัพท์มือถือไม่ถูกต้อง <br> กรุณาลองใหม่อีกครั้ง !\",\n          });\n        }\n        this.timer = 30;\n      } catch (err) {\n        this.alert_show({\n          header: \"ล้มเหลว\",\n          type: \"error\",\n          title: \"การดำเนินการล้มเหลว <br> กรุณาลองใหม่อีกครั้ง !\",\n        });\n      }\n      this.app_loading(false);\n    },\n    isNumber(evt) {\n      evt = evt ? evt : window.event;\n      var charCode = evt.which ? evt.which : evt.keyCode;\n      if (charCode == 43) {\n      } else if (\n        charCode > 31 &&\n        (charCode < 48 || charCode > 57) &&\n        charCode !== 46\n      ) {\n        evt.preventDefault();\n      } else {\n        return true;\n      }\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$refs.phone_txt.focus();\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.phoneVerify {\n  height: 100vh;\n  min-height: 500px;\n  display: flex;\n  flex-direction: column;\n\n  > div{\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 3vw;\n    display: block;\n    padding: 18px;\n    border-top-left-radius: 12px;\n    border-top-right-radius: 12px;\n    background-color: white;\n    max-width: 500px;\n    width: 100%;\n\n    .title-x {\n      font-size: 21px;\n      font-weight: 100;\n    }\n\n    .input-section {\n      margin-top: 40px;\n      font-size: 16px;\n\n      input {\n        // border: 1px solid black;\n        border-radius: 4px;\n        height: 49px;\n        width: 100%;\n        font-weight: 600;\n        font-size: 21px;\n        padding: 10px;\n        letter-spacing: 1px;\n        border: 2px solid #c71e2b;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./phoneVerify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./phoneVerify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./phoneVerify.vue?vue&type=template&id=d7416dc4&\"\nimport script from \"./phoneVerify.vue?vue&type=script&lang=js&\"\nexport * from \"./phoneVerify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./phoneVerify.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./phoneVerify.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}