{"version":3,"sources":["webpack:///./src/views/OTP/emailVerify.vue?e9dc","webpack:///./src/views/OTP/emailVerify.vue?5107","webpack:///src/views/OTP/emailVerify.vue","webpack:///./src/views/OTP/emailVerify.vue?dc65","webpack:///./src/views/OTP/emailVerify.vue?948a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","model","value","callback","$$v","valid","expression","emailRules","on","$event","type","indexOf","_k","keyCode","key","preventDefault","requestOTP","apply","arguments","email","timer","_v","_s","staticRenderFns","name","data","watch","val","setTimeout","methods","mounted","component","VBtn","VForm","VTextField"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACJ,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACI,IAAI,OAAOC,MAAM,CAAC,kBAAkB,IAAIC,MAAM,CAACC,MAAOX,EAAS,MAAEY,SAAS,SAAUC,GAAMb,EAAIc,MAAMD,GAAKE,WAAW,UAAU,CAACX,EAAG,eAAe,CAACI,IAAI,YAAYC,MAAM,CAAC,SAAW,GAAG,MAAQT,EAAIgB,WAAW,MAAQ,SAAS,SAAW,IAAIC,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQpB,EAAIqB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,MAAOL,EAAOM,iBAAwBxB,EAAIyB,WAAWC,MAAM,KAAMC,cAAajB,MAAM,CAACC,MAAOX,EAAS,MAAEY,SAAS,SAAUC,GAAMb,EAAI4B,MAAMf,GAAKE,WAAW,YAAY,IAAI,KAAKX,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACK,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,MAAQ,UAAU,MAAQ,GAAG,OAAS,KAAK,SAAWT,EAAI6B,MAAQ,IAAIZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIyB,gBAAgB,CAAe,IAAbzB,EAAI6B,MAAazB,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAI8B,GAAG,gBAAgB1B,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAI8B,GAAG9B,EAAI+B,GAAG/B,EAAI6B,aAAa,QAC9kCG,EAAkB,CAAC,WAAa,IAAIhC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACJ,EAAI8B,GAAG,eAAe1B,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAI8B,GAAG,uB,YCwClN,G,oBAAA,CACEG,KAAM,cACNC,KAFF,WAGI,MAAO,CACLL,MAAO,GACPf,OAAO,EACPc,MAAO,GACPZ,WAAY,CAClB,YAAQ,QAAR,uBACA,YAAQ,MAAR,6CAIEmB,MAAO,CACLN,MADJ,SACA,cACUO,EAAM,IAAa,GAAPA,EACdC,YAAW,WACT,EAAV,kBACA,KACA,OACQpC,KAAK4B,MAAQ,MAInBS,QAAS,CACP,WADJ,WACA,gLAEA,wBAFA,0CAGA,GAHA,cAKA,kBACA,qCACA,GACA,SACA,oCAGA,GACA,eAbA,SAeA,qBAfA,OAeA,EAfA,OAgBA,gBACA,2BACA,mBACA,gBAEA,kCAEA,cACA,iBACA,aACA,uDAGA,WA7BA,qDA+BA,cACA,iBACA,aACA,0DAlCA,QAqCA,kBArCA,8DAwCEC,QAjEF,eCzCoW,I,iFCQhWC,EAAY,eACd,EACAzC,EACAiC,GACA,EACA,KACA,KACA,MAIa,aAAAQ,EAAiB,QAOhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,aAAA,Q","file":"js/chunk-46f8955b.104b36bc.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./emailVerify.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"phoneVerify\"},[_c('div',[_vm._m(0),_c('div',{staticClass:\"input-section\"},[_c('div',{staticClass:\"mt-5\"},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{ref:\"email_txt\",attrs:{\"outlined\":\"\",\"rules\":_vm.emailRules,\"label\":\"E-mail\",\"required\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.requestOTP.apply(null, arguments)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1)],1)]),_c('div',[_c('v-btn',{attrs:{\"block\":\"\",\"rounded\":\"\",\"color\":\"#c71e2b\",\"dense\":\"\",\"height\":\"49\",\"disabled\":_vm.timer < 31},on:{\"click\":function($event){return _vm.requestOTP()}}},[(_vm.timer == 31)?_c('span',{staticClass:\"white--text\"},[_vm._v(\" ขอรับOTP \")]):_c('span',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm.timer))])])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-x\"},[_c('div',[_vm._v(\"กรุณากรอก\")]),_c('div',{staticClass:\"mt-1\"},[_vm._v(\"E-mail ของคุณ\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"phoneVerify\">\n    <div>\n      <div class=\"title-x\">\n        <div>กรุณากรอก</div>\n        <div class=\"mt-1\">E-mail ของคุณ</div>\n      </div>\n      <div class=\"input-section\">\n        <div class=\"mt-5\">\n          <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n            <v-text-field\n              outlined\n              ref=\"email_txt\"\n              v-model=\"email\"\n              :rules=\"emailRules\"\n              label=\"E-mail\"\n              required\n              @keydown.enter.prevent=\"requestOTP\"\n            ></v-text-field>\n          </v-form>\n        </div>\n      </div>\n      <div>\n        <v-btn\n          block\n          rounded\n          color=\"#c71e2b\"\n          dense\n          height=\"49\"\n          @click=\"requestOTP()\"\n          :disabled=\"timer < 31\"\n        >\n          <span v-if=\"timer == 31\" class=\"white--text\"> ขอรับOTP </span>\n          <span class=\"white--text\" v-else>{{ timer }}</span>\n        </v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"EmailVerify\",\n  data() {\n    return {\n      timer: 31,\n      valid: true,\n      email: \"\",\n      emailRules: [\n        (v) => !!v || \"กรุณากรอก E-mail\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail ไม่ถูกต้อง\",\n      ],\n    };\n  },\n  watch: {\n    timer(val) {\n      if (val < 31 && val != 0) {\n        setTimeout(() => {\n          this.timer = this.timer - 1;\n        }, 1000);\n      } else if (val == 0) {\n        this.timer = 31;\n      }\n    },\n  },\n  methods: {\n    async requestOTP() {\n      try {\n        if (!this.$refs.form.validate()) {\n          return false;\n        }\n        this.app_loading(true);\n        const url = \"https://api.mepoint.one/send_otp\";\n        let config = {\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        };\n        let params = {\n          email: this.email,\n        };\n        let res = await this.$axios.post(url, params, config);\n        if (res.data.success) {\n          this.$store.commit(\"SET_OTP\", {\n            ref: res.data.otp_ref,\n            email: this.email,\n          });\n          this.$router.push(\"/OTP/otpVerify\");\n        } else {\n          this.alert_show({\n            header: \"ล้มเหลว\",\n            type: \"error\",\n            title: \"E-mail ม่ถูกต้อง <br> กรุณาลองใหม่อีกครั้ง !\",\n          });\n        }\n        this.timer = 30;\n      } catch (err) {\n        this.alert_show({\n          header: \"ล้มเหลว\",\n          type: \"error\",\n          title: \"การดำเนินการล้มเหลว <br> กรุณาลองใหม่อีกครั้ง !\",\n        });\n      }\n      this.app_loading(false);\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style lang=\"scss\">\n.phoneVerify {\n  height: 100vh;\n  min-height: 500px;\n  display: flex;\n  flex-direction: column;\n\n  > div {\n    margin-left: auto;\n    margin-right: auto;\n    margin-top: 3vw;\n    display: block;\n    padding: 18px;\n    border-top-left-radius: 12px;\n    border-top-right-radius: 12px;\n    background-color: white;\n    max-width: 500px;\n    width: 100%;\n\n    .title-x {\n      font-size: 21px;\n      font-weight: 100;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./emailVerify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./emailVerify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./emailVerify.vue?vue&type=template&id=7ebae4bf&\"\nimport script from \"./emailVerify.vue?vue&type=script&lang=js&\"\nexport * from \"./emailVerify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./emailVerify.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VForm,VTextField})\n"],"sourceRoot":""}