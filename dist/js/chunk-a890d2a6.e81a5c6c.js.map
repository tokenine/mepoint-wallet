{"version":3,"sources":["webpack:///./src/views/OTP/otpVerify.vue?355c","webpack:///src/views/OTP/otpVerify.vue","webpack:///./src/views/OTP/otpVerify.vue?a5ae","webpack:///./src/views/OTP/otpVerify.vue?5bcf","webpack:///./src/views/OTP/otpVerify.vue?28ce"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","blur","showSetPin","showConfirmPin","attrs","on","$event","$router","push","_v","directives","name","rawName","value","otp","expression","ref","domProps","isNumber","stopPropagation","keyup","apply","arguments","target","composing","$set","_s","otpData","timer","_e","errorEntry","sendOTPAgain","setPin","$refs","input1","focus","confirmPin","goSetAgain","staticRenderFns","components","computed","$store","state","auth","OTP","pos1","data","pos2","pos3","pos4","pos5","pos6","sessionToken","Pin","watch","val","length","j","split","i","setTimeout","methods","reqX","patt1","result","number","match","evt","window","event","charCode","which","keyCode","preventDefault","allInput","forEach","index","inputIndex","nowInput","element","nextInput","backInput","e","key","removeAttribute","setAttribute","idx","parseInt","id","Object","keys","property","next","mounted","$nextTick","component","VBtn","VCol","VIcon","VRow"],"mappings":"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","file":"js/chunk-a890d2a6.e81a5c6c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"otpVerify\"},[_c('v-row',{staticClass:\"pt-2\",class:{ blur: _vm.showSetPin || _vm.showConfirmPin },attrs:{\"no-gutters\":\"\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-icon',{attrs:{\"large\":\"\",\"color\":\"#A7A7A7\"},on:{\"click\":function($event){return _vm.$router.push('/OTP/emailVerify')}}},[_vm._v(\"keyboard_arrow_left\")])],1),_c('v-col',{staticClass:\"title-x text-sm-center\",attrs:{\"cols\":\"12\"}},[_vm._v(\" กรุณากรอก OTP ที่ส่งไปที่ E-mail ของคุณ \")]),_c('v-col',{attrs:{\"cols\":\"12\",\"xs\":\"12\",\"sm\":\"8\",\"md\":\"6\",\"lg\":\"4\"}},[_c('v-row',[_c('v-col',{staticClass:\"input-section\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"px-3\"},[_vm._v(\"หมายเลข OTP\")]),_c('div',{staticClass:\"input-all px-3 mt-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otp.pos1),expression:\"otp.pos1\"}],ref:\"input1\",attrs:{\"type\":\"number\",\"id\":\"1\"},domProps:{\"value\":(_vm.otp.pos1)},on:{\"keypress\":function($event){return _vm.isNumber()},\"keyup\":function($event){$event.stopPropagation();return _vm.keyup.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otp, \"pos1\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otp.pos2),expression:\"otp.pos2\"}],attrs:{\"type\":\"number\",\"id\":\"2\",\"readonly\":\"\"},domProps:{\"value\":(_vm.otp.pos2)},on:{\"keypress\":function($event){return _vm.isNumber()},\"keyup\":function($event){$event.stopPropagation();return _vm.keyup.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otp, \"pos2\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otp.pos3),expression:\"otp.pos3\"}],attrs:{\"type\":\"number\",\"id\":\"3\",\"readonly\":\"\"},domProps:{\"value\":(_vm.otp.pos3)},on:{\"keypress\":function($event){return _vm.isNumber()},\"keyup\":function($event){$event.stopPropagation();return _vm.keyup.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otp, \"pos3\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otp.pos4),expression:\"otp.pos4\"}],attrs:{\"type\":\"number\",\"id\":\"4\",\"readonly\":\"\"},domProps:{\"value\":(_vm.otp.pos4)},on:{\"keypress\":function($event){return _vm.isNumber()},\"keyup\":function($event){$event.stopPropagation();return _vm.keyup.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otp, \"pos4\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otp.pos5),expression:\"otp.pos5\"}],attrs:{\"type\":\"number\",\"id\":\"5\",\"readonly\":\"\"},domProps:{\"value\":(_vm.otp.pos5)},on:{\"keypress\":function($event){return _vm.isNumber()},\"keyup\":function($event){$event.stopPropagation();return _vm.keyup.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otp, \"pos5\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otp.pos6),expression:\"otp.pos6\"}],attrs:{\"type\":\"number\",\"id\":\"6\",\"readonly\":\"\"},domProps:{\"value\":(_vm.otp.pos6)},on:{\"keypress\":function($event){return _vm.isNumber()},\"keyup\":function($event){$event.stopPropagation();return _vm.keyup.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otp, \"pos6\", $event.target.value)}}})])]),_c('v-col',{staticClass:\"text-center text-otp\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"mt-2 mb-1\"},[_vm._v(\"OTP Ref: \"+_vm._s(_vm.otpData.ref))]),(_vm.timer < 31)?_c('div',[_vm._v(_vm._s(_vm.timer)+\" Seconds\")]):_vm._e(),(_vm.errorEntry > 0)?_c('div',{staticClass:\"red--text\"},[_vm._v(\" OTP ไม่ถูกต้อง \"+_vm._s(_vm.errorEntry)+\" / 3 \")]):_vm._e()]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"px-3 mt-1 text-again\",attrs:{\"disabled\":_vm.timer != 31,\"text\":\"\"},on:{\"click\":_vm.sendOTPAgain}},[_c('span',{staticClass:\"cicle\"},[_c('v-icon',{attrs:{\"x-small\":\"\",\"color\":\"white\"}},[_vm._v(\"refresh\")])],1),_c('span',{staticClass:\"ml-1\"},[_vm._v(\"ส่งรหัสอีกครั้ง\")])])],1)],1)],1)],1),(_vm.showSetPin)?_c('pin-pad',{attrs:{\"header\":'กรุณากำหนดรหัสผ่าน <br> ความปลอดภัย 6 หลัก',\"backward\":true},on:{\"pinEmit\":_vm.setPin,\"goback\":function($event){_vm.showSetPin = false;\n      _vm.$refs.input1.focus();}}}):_vm._e(),(_vm.showConfirmPin)?_c('pin-pad',{attrs:{\"header\":'กรุณายืนยันรหัสผ่าน <br> ความปลอดภัย 6 หลัก',\"backward\":true},on:{\"pinEmit\":_vm.confirmPin,\"goback\":_vm.goSetAgain}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"otpVerify\">\n    <v-row\n      no-gutters\n      class=\"pt-2\"\n      :class=\"{ blur: showSetPin || showConfirmPin }\"\n      justify=\"center\"\n    >\n      <v-col cols=\"12\">\n        <v-icon large color=\"#A7A7A7\" @click=\"$router.push('/OTP/emailVerify')\"\n          >keyboard_arrow_left</v-icon\n        >\n      </v-col>\n      <v-col cols=\"12\" class=\"title-x text-sm-center\">\n        กรุณากรอก OTP ที่ส่งไปที่ E-mail ของคุณ\n      </v-col>\n      <v-col cols=\"12\" xs=\"12\" sm=\"8\" md=\"6\" lg=\"4\">\n        <v-row>\n          <v-col cols=\"12\" class=\"input-section\">\n            <div class=\"px-3\">หมายเลข OTP</div>\n            <div class=\"input-all px-3 mt-2\">\n              <input\n                type=\"number\"\n                ref=\"input1\"\n                id=\"1\"\n                v-model=\"otp.pos1\"\n                @keypress=\"isNumber()\"\n                @keyup.stop=\"keyup\"\n              />\n              <input\n                type=\"number\"\n                id=\"2\"\n                v-model=\"otp.pos2\"\n                @keypress=\"isNumber()\"\n                @keyup.stop=\"keyup\"\n                readonly\n              />\n              <input\n                type=\"number\"\n                id=\"3\"\n                v-model=\"otp.pos3\"\n                @keypress=\"isNumber()\"\n                @keyup.stop=\"keyup\"\n                readonly\n              />\n              <input\n                type=\"number\"\n                id=\"4\"\n                v-model=\"otp.pos4\"\n                @keypress=\"isNumber()\"\n                @keyup.stop=\"keyup\"\n                readonly\n              />\n              <input\n                type=\"number\"\n                id=\"5\"\n                v-model=\"otp.pos5\"\n                @keypress=\"isNumber()\"\n                @keyup.stop=\"keyup\"\n                readonly\n              />\n              <input\n                type=\"number\"\n                id=\"6\"\n                v-model=\"otp.pos6\"\n                @keypress=\"isNumber()\"\n                @keyup.stop=\"keyup\"\n                readonly\n              />\n            </div>\n          </v-col>\n          <v-col cols=\"12\" class=\"text-center text-otp\">\n            <div class=\"mt-2 mb-1\">OTP Ref: {{ otpData.ref }}</div>\n            <div v-if=\"timer < 31\">{{ timer }} Seconds</div>\n            <div v-if=\"errorEntry > 0\" class=\"red--text\">\n              OTP ไม่ถูกต้อง {{ errorEntry }} / 3\n            </div>\n          </v-col>\n          <v-col cols=\"12\">\n            <v-btn\n              :disabled=\"timer != 31\"\n              text\n              class=\"px-3 mt-1 text-again\"\n              @click=\"sendOTPAgain\"\n            >\n              <span class=\"cicle\">\n                <v-icon x-small color=\"white\">refresh</v-icon>\n              </span>\n              <span class=\"ml-1\">ส่งรหัสอีกครั้ง</span>\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-row>\n    <pin-pad\n      v-if=\"showSetPin\"\n      :header=\"'กรุณากำหนดรหัสผ่าน <br> ความปลอดภัย 6 หลัก'\"\n      @pinEmit=\"setPin\"\n      :backward=\"true\"\n      @goback=\"\n        showSetPin = false;\n        $refs.input1.focus();\n      \"\n    />\n    <pin-pad\n      v-if=\"showConfirmPin\"\n      :header=\"'กรุณายืนยันรหัสผ่าน <br> ความปลอดภัย 6 หลัก'\"\n      :backward=\"true\"\n      @pinEmit=\"confirmPin\"\n      @goback=\"goSetAgain\"\n    />\n  </div>\n</template>\n\n<script>\nimport Pinpad from \"../../components/pinPad.vue\";\nimport { firebaseAuth, usersCollection } from \"../../plugins/firebase\";\nexport default {\n  name: \"OtpVerify\",\n  components: {\n    \"pin-pad\": Pinpad,\n  },\n  computed: {\n    otpData() {\n      return this.$store.state.auth.OTP;\n    },\n    pos1() {\n      return this.otp.pos1;\n    },\n  },\n  data() {\n    return {\n      showSetPin: false,\n      showConfirmPin: false,\n      otp: {\n        pos1: null,\n        pos2: null,\n        pos3: null,\n        pos4: null,\n        pos5: null,\n        pos6: null,\n      },\n      timer: 31,\n      sessionToken: null,\n      errorEntry: 0,\n      Pin: \"\",\n    };\n  },\n  watch: {\n    pos1(val) {\n      try {\n        if (val.length == 6) {\n          let split = val.split(\"\");\n          let i = 0;\n          for (let j in this.otp) {\n            this.otp[j] = split[i];\n            i++;\n          }\n          setTimeout(() => {\n            let otp = \"\";\n            for (const property in this.otp) {\n              otp += `${this.otp[property]}`;\n              this.otp[property] = null;\n            }\n            this.$refs.input1.blur();\n            this.next(otp);\n          }, 500);\n        }\n      } catch (err) {}\n    },\n    timer(val) {\n      if (val < 31 && val != 0) {\n        setTimeout(() => {\n          this.timer = this.timer - 1;\n        }, 1000);\n      } else if (val == 0) {\n        this.timer = 31;\n      }\n    },\n  },\n  methods: {\n    async sendOTPAgain() {\n      try {\n        this.$store.commit(\"SET_APP_LOADING\", true);\n        const url = \"https://api.mepoint.one/send_otp\";\n        let config = {\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        };\n        let params = {\n          email: this.otpData.email,\n        };\n        let res = await this.$axios.post(url, params, config);\n        if (res.data.success) {\n          this.$store.commit(\"SET_OTP\", {\n            ref: res.data.otp_ref,\n            phone: this.otpData.email,\n          });\n        }\n        this.timer = 30;\n        this.$store.commit(\"SET_APP_LOADING\", false);\n      } catch (err) {\n        this.alert_show({\n          header: \"ล้มเหลว\",\n          type: \"error\",\n          title: \"การดำเนินการล้มเหลว <br> กรุณาลองใหม่อีกครั้ง !\",\n        });\n      }\n    },\n    async setPin(pin) {\n      this.showSetPin = false;\n      this.app_loading(true);\n      this.Pin = pin;\n      setTimeout(() => {\n        this.showConfirmPin = true;\n      }, 500);\n      this.app_loading(false);\n    },\n    async storeUserOnfireStore(email, password, uid) {\n      try {\n        const wallet = await this.$ethers.Wallet.createRandom();\n        let encypt = await wallet.encrypt(password);\n        let encyptString = encypt;\n\n        await usersCollection.add({\n          email: email,\n          uid: uid,\n          wallet: encyptString,\n        });\n\n      } catch (err) {\n        throw err;\n      }\n    },\n    async firebaseCreateUser(email, password) {\n      try {\n        const vm = this;\n        let userCredential = await firebaseAuth.createUserWithEmailAndPassword(\n          email,\n          password\n        );\n        var user = userCredential.user;\n        await vm.storeUserOnfireStore(email, password, user.uid);\n      } catch (err) {\n        throw err;\n      }\n    },\n    async checkAccount() {\n      try {\n        let querySnapshot = await usersCollection\n          .where(\"email\", \"==\", this.otpData.email)\n          .get();\n        return querySnapshot.empty;\n      } catch (err) {\n        throw err;\n      }\n    },\n    async confirmPin(pin) {\n      this.showConfirmPin = false;\n      this.app_loading(true);\n      if (pin == this.Pin) {\n        try {\n          const password = pin;\n          const email = this.otpData.email;\n          await this.firebaseCreateUser(email, password);\n          let signIn = await firebaseAuth.signInWithEmailAndPassword(\n            email,\n            password\n          );\n          localStorage.setItem(\"email_account_mpv\", this.otpData.email);\n          await this.$store.dispatch(\"getUser\", {\n            uid: signIn.user.uid,\n            password: password,\n          });\n          await this.$store.dispatch(\"getBalance\");\n          this.$router.push(\"/\");\n        } catch (err) {\n          this.app_loading(false);\n          this.alert_show({\n            header: \"ล้มเหลว\",\n            type: \"error\",\n            title: err.message,\n          });\n        }\n      }\n      this.app_loading(false);\n    },\n    goSetAgain() {\n      this.showConfirmPin = false;\n      setTimeout(() => {\n        this.showSetPin = true;\n      }, 1000);\n    },\n    reqX(number) {\n      var patt1 = /[0-9]/g;\n      var result = number.match(patt1);\n      return result;\n    },\n    isNumber(evt) {\n      evt = evt ? evt : window.event;\n      var charCode = evt.which ? evt.which : evt.keyCode;\n      if (charCode == 43) {\n      } else if (\n        charCode > 31 &&\n        (charCode < 48 || charCode > 57) &&\n        charCode !== 46\n      ) {\n        evt.preventDefault();\n      } else {\n        return true;\n      }\n    },\n    keyup(e) {\n      const inputIndex = parseInt(e.target.id) - 1;\n      const allInput = document.getElementsByTagName(\"input\");\n      let nowInput, nextInput, backInput;\n      allInput.forEach((element, index) => {\n        if (index == inputIndex) {\n          nowInput = element;\n        } else if (index == inputIndex + 1) {\n          nextInput = element;\n        } else if (index == inputIndex - 1) {\n          backInput = element;\n        }\n      });\n      if (e.key == \"Backspace\") {\n        if (inputIndex > 0) {\n          backInput.removeAttribute(\"readonly\");\n          nowInput.setAttribute(\"readonly\", \"readonly\");\n          backInput.focus();\n          var idx = parseInt(backInput.id) - 1;\n          var key = Object.keys(this.otp)[idx];\n          this.otp[key] = null;\n        }\n      } else if (this.reqX(e.key)) {\n        if (inputIndex < 5) {\n          nowInput.setAttribute(\"readonly\", \"readonly\");\n          nextInput.removeAttribute(\"readonly\");\n          nextInput.focus();\n        } else if (inputIndex == 5) {\n          let otp = \"\";\n          for (const property in this.otp) {\n            otp += `${this.otp[property]}`;\n            this.otp[property] = null;\n          }\n          nowInput.setAttribute(\"readonly\", \"readonly\");\n          nowInput.blur();\n          this.$refs.input1.removeAttribute(\"readonly\");\n          this.next(otp);\n        }\n      }\n    },\n    async next(otp) {\n      this.app_loading(true);\n      try {\n        const verifyOtp = await this.verifyOTP(otp);\n        //after verify OTP;\n        if (verifyOtp) {\n          let checkAccount = await this.checkAccount();\n          if (checkAccount) {\n            this.showSetPin = true;\n          } else if (!checkAccount) {\n            localStorage.setItem(\"email_account_mpv\", this.otpData.email);\n            this.$router.push(\"/login\");\n          }\n        } else {\n          throw \"error\";\n        }\n      } catch (err) {\n        this.app_loading(false);\n        this.errorEntry += 1;\n        this.$refs.input1.focus();\n        if (this.errorEntry == 3) {\n          setTimeout(() => {\n            this.alert_show({\n              header: \"ล้มเหลว\",\n              type: \"error\",\n              title: \"OTP ไม่สำเร็จ <br> กรอก E-mail ใหม่อีกครั้ง\",\n            }).then((res) => {\n              this.$router.push(\"/OTP/emailVerify\");\n            });\n          }, 300);\n        }\n      }\n      this.app_loading(false);\n    },\n    async verifyOTP(otp) {\n      try {\n        let config = {\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        };\n        let params = {\n          email: this.otpData.email,\n          otp_ref: this.otpData.ref,\n          otp: otp.replace(/[^0-9\\.]+/g, \"\"),\n        };\n        let result = await this.$axios.post(\n          \"https://api.mepoint.one/verify_otp\",\n          params,\n          config\n        );\n        return result.data.success;\n      } catch (err) {\n        throw err;\n      }\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$refs.input1.focus();\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.otpVerify {\n  height: 100vh;\n\n  > .row {\n    > div {\n      padding: 8px 16px !important;\n    }\n  }\n\n  .title-x {\n    font-size: 24px;\n    margin: 8px 0px;\n  }\n\n  .text-otp {\n    div:nth-child(1) {\n      font-size: 14px;\n    }\n\n    div:nth-child(2) {\n      font-size: 16px;\n      color: #ef4136;\n      font-weight: 600;\n    }\n  }\n\n  .text-again {\n    font-size: 14px;\n    color: #ef4136;\n    display: flex !important;\n    align-items: center;\n  }\n\n  .cicle {\n    border-radius: 50%;\n    background-color: #ef4136;\n    height: 21px;\n    width: 21px;\n    padding: 1px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .input-section {\n    font-size: 16px;\n\n    .input-all {\n      display: flex;\n      flex-wrap: nowrap;\n      align-items: center;\n      justify-content: space-between;\n\n      > input {\n        background-color: #eaecef;\n        border-radius: 8px;\n        width: 45px;\n        height: 50px;\n        text-align: center;\n        font-size: 23px;\n        font-weight: 600;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./otpVerify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./otpVerify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./otpVerify.vue?vue&type=template&id=6aa891eb&\"\nimport script from \"./otpVerify.vue?vue&type=script&lang=js&\"\nexport * from \"./otpVerify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./otpVerify.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VIcon,VRow})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./otpVerify.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}