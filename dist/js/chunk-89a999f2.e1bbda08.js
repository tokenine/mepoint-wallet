(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89a999f2"],{"3ae1":function(e,t,n){},"4e25":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"phoneVerify"},[n("div",[e._m(0),n("div",{staticClass:"input-section"},[n("div",[e._v("หมายเลขโทรศัพท์")]),n("div",{staticClass:"mt-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],ref:"phone_txt",attrs:{type:"text",disabled:31!=e.timer,maxlength:"10"},domProps:{value:e.phone},on:{keypress:function(t){return e.isNumber()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.requestOTP()},input:function(t){t.target.composing||(e.phone=t.target.value)}}})])]),n("div",[n("v-btn",{staticClass:"mt-4",attrs:{block:"",rounded:"",color:"#c71e2b",disabled:10!=e.phone.length,dense:"",height:"49"},on:{click:function(t){return e.requestOTP()}}},[31==e.timer?n("span",{staticClass:"white--text"},[e._v(" ขอรับOTP ")]):n("span",{staticClass:"white--text"},[e._v(e._s(e.timer))])])],1)])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-x"},[n("div",[e._v("กรุณากรอกหมายเลข")]),n("div",{staticClass:"mt-1"},[e._v("โทรศัพท์ของคุณ")])])}],a=n("1da1"),s=(n("96cf"),n("4795"),n("ac1f"),n("5319"),{name:"PhoneVerify",data:function(){return{phone:"",timer:31}},watch:{timer:function(e){var t=this;e<31&&0!=e?setTimeout((function(){t.timer=t.timer-1}),1e3):0==e&&(this.timer=31)},phone:function(e){var t=e.replace(/[^0-9\.+]+/g,"");this.phone=t}},methods:{requestOTP:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.app_loading(!0),t.prev=1,10==e.phone.length){t.next=4;break}return t.abrupt("return",!1);case 4:return n="https://api.jfin.network/api/v2/",r={headers:{"content-type":"application/json","X-API-KEY":"OTPJFINzM8L6ZCmbIvce1BAFwihvDf3BF"}},i={phone_no:e.phone},t.next=9,e.$axios.post(n+"paa/auth_phone",JSON.stringify(i),r);case 9:a=t.sent,200==a.data.status_code?(e.$store.commit("SET_OTP",{ref:a.data.data.otp_ref,phone:e.phone}),e.$router.push("/OTP/otpVerify")):e.alert_show({header:"ล้มเหลว",type:"error",title:"เบอร์โทรศัพท์มือถือไม่ถูกต้อง <br> กรุณาลองใหม่อีกครั้ง !"}),e.timer=30,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),e.alert_show({header:"ล้มเหลว",type:"error",title:"การดำเนินการล้มเหลว <br> กรุณาลองใหม่อีกครั้ง !"});case 17:e.app_loading(!1);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))()},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(43==t);else{if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()}}},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.phone_txt.focus()}))}}),o=s,c=(n("ed5b"),n("2877")),u=n("6544"),p=n.n(u),h=n("8336"),l=Object(c["a"])(o,r,i,!1,null,null,null);t["default"]=l.exports;p()(l,{VBtn:h["a"]})},ed5b:function(e,t,n){"use strict";n("3ae1")}}]);
//# sourceMappingURL=chunk-89a999f2.e1bbda08.js.map