(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f8955b"],{"1c72":function(e,t,i){"use strict";i("6330")},5127:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"phoneVerify"},[i("div",[e._m(0),i("div",{staticClass:"input-section"},[i("div",{staticClass:"mt-5"},[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-text-field",{ref:"email_txt",attrs:{outlined:"",rules:e.emailRules,label:"E-mail",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.requestOTP()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)]),i("div",[i("v-btn",{attrs:{block:"",rounded:"",color:"#c71e2b",dense:"",height:"49",disabled:e.timer<31},on:{click:function(t){return e.requestOTP()}}},[31==e.timer?i("span",{staticClass:"white--text"},[e._v(" ขอรับOTP ")]):i("span",{staticClass:"white--text"},[e._v(e._s(e.timer))])])],1)])])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-x"},[i("div",[e._v("กรุณากรอก")]),i("div",{staticClass:"mt-1"},[e._v("E-mail ของคุณ")])])}],n=i("1da1"),s=(i("96cf"),i("4795"),{name:"EmailVerify",data:function(){return{timer:31,valid:!0,email:"",emailRules:[function(e){return!!e||"กรุณากรอก E-mail"},function(e){return/.+@.+\..+/.test(e)||"E-mail ไม่ถูกต้อง"}]}},watch:{timer:function(e){var t=this;e<31&&0!=e?setTimeout((function(){t.timer=t.timer-1}),1e3):0==e&&(this.timer=31)}},methods:{requestOTP:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$refs.form.validate()){t.next=3;break}return t.abrupt("return",!1);case 3:return e.app_loading(!0),i="https://api.mepoint.one/send_otp",a={headers:{"content-type":"application/json"}},r={email:e.email},t.next=9,e.$axios.post(i,r,a);case 9:n=t.sent,n.data.success?(e.$store.commit("SET_OTP",{ref:n.data.otp_ref,email:e.email}),e.$router.push("/OTP/otpVerify")):e.alert_show({header:"ล้มเหลว",type:"error",title:"E-mail ม่ถูกต้อง <br> กรุณาลองใหม่อีกครั้ง !"}),e.timer=30,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),e.alert_show({header:"ล้มเหลว",type:"error",title:"การดำเนินการล้มเหลว <br> กรุณาลองใหม่อีกครั้ง !"});case 17:e.app_loading(!1);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},mounted:function(){}}),l=s,o=(i("1c72"),i("2877")),c=i("6544"),u=i.n(c),m=i("8336"),d=i("4bd4"),f=i("8654"),p=Object(o["a"])(l,a,r,!1,null,null,null);t["default"]=p.exports;u()(p,{VBtn:m["a"],VForm:d["a"],VTextField:f["a"]})},6330:function(e,t,i){}}]);
//# sourceMappingURL=chunk-46f8955b.8b43c8dd.js.map